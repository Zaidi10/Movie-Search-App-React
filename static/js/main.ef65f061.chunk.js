(this.webpackJsonpimdbapp=this.webpackJsonpimdbapp||[]).push([[0],{121:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(20),l=t.n(r),o=(t(68),t(69),t(70),t(71),t(17)),i=t(10),s=(t(72),t(122)),m=t(123),d=t(124),u=t(125),v=t(126),f=t(14);function E(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1];return c.a.createElement(s.a,{dark:!0,className:"header-con",export:!0,expand:"md"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement(m.a,{onClick:function(){r(!t)}}),c.a.createElement(d.a,{isOpen:t,navbar:!0},c.a.createElement(u.a,{navbar:!0},c.a.createElement(v.a,{className:"nav_li_item"},c.a.createElement(f.d,{className:"nav-link",to:"/Home"},c.a.createElement("span",{className:"fa fa-home fa-lg head-icon"}),"Home")),c.a.createElement(v.a,{className:"nav_li_item"},c.a.createElement(f.d,{className:"nav-link",to:"/favorites"},c.a.createElement("i",{className:"fa fa-heart head-icon","aria-hidden":"true"}),"Favorites"))))))}var h=t(127),p=t(128),N=t(56);function g(e){function a(e){var a=e.movie,t=e.handleFav;return c.a.createElement(h.a,{className:"menu_items"},c.a.createElement(f.c,{to:"/Home/".concat(a.Title)},c.a.createElement(p.a,{className:"item-image",width:"254",height:"254",src:a.Poster,alt:a.Title})),c.a.createElement("div",{className:"items-details"},c.a.createElement(N.a,{onClick:function(e){return t(e,a,!0)},className:"fav-button",outline:!0,color:"primary"},c.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})),c.a.createElement("div",{className:"item_name"},a.Title," (",a.Type,")"),c.a.createElement("div",{className:"item_description"},a.Year)))}var t;return t=0===e.Favorites.length?c.a.createElement("div",{className:"col-12 loader-container"},c.a.createElement("h3",null,"You have no favorites!")):e.Favorites.map((function(t){return c.a.createElement("div",{key:t.imdbID,className:"col-12 col-md-4 col-lg-4 col-xl-3 menu_col"},c.a.createElement(a,{movie:t,handleFav:e.handleFav}))})),c.a.createElement("div",{className:"container-fluid menu_container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 menu_head_col"},c.a.createElement("h3",null,"Your Favorites"),c.a.createElement("hr",{className:"hr_"}))),c.a.createElement("div",{className:"row"},t))}var b=t(9),O=t(27),y=t(129),I=t(131),S=t(132),F=t(130);function j(e){var a,t=Object(n.useState)(""),r=Object(o.a)(t,2),l=r[0],i=r[1],s=Object(n.useState)("title"),m=Object(o.a)(s,2),d=m[0],u=m[1],v=Object(n.useState)(!1),f=Object(o.a)(v,2),E=f[0],h=f[1],p=function(e){u(e.target.value)};return c.a.createElement("div",{className:"input-group md-form form-sm form-2 pl-0 search-con"},c.a.createElement("input",(a={className:"form-control my-0 py-1 lime-border",onKeyDown:function(a){13===a.keyCode&&e.handleSerch(l,d)},placeholder:"Search",onChange:function(e){i(e.target.value)},value:l,type:"text"},Object(O.a)(a,"placeholder","Search"),Object(O.a)(a,"aria-label","Search"),a)),c.a.createElement(y.a,{isOpen:E,toggle:function(){return h((function(e){return!e}))}},c.a.createElement(I.a,{className:"drop_down",caret:!0},d),c.a.createElement(S.a,null,c.a.createElement(F.a,{value:"title",onClick:p},"Title"),c.a.createElement(F.a,{value:"movie",onClick:p},"Movie"),c.a.createElement(F.a,{value:"Series",onClick:p},"Series"),c.a.createElement(F.a,{value:"year",onClick:p},"Year"))),c.a.createElement(N.a,{className:"search_button",onClick:function(){return e.handleSerch(l,d)}},"Search"))}var _=t(59),w=t.n(_),D=function(){return c.a.createElement("div",{className:"col-12 loader-container"},c.a.createElement(w.a,{type:"Puff",color:"#00BFFF",secondaryColor:"#9575CD",height:80,width:80}))};function M(e){var a=e.movie,t=e.handleFav,n=e.favId.indexOf(a.imdbID)>=0;return c.a.createElement(h.a,{className:"menu_items"},c.a.createElement(f.c,{to:"/Home/".concat(a.Title)},c.a.createElement(p.a,{className:"item-image",width:"254",height:"254",src:a.Poster,alt:a.Title})),c.a.createElement("div",{className:"items-details"},c.a.createElement(N.a,{onClick:function(e){return t(e,a,n)},className:"fav-button",outline:!0,color:"primary"},n?c.a.createElement("span",{className:"fa fa-heart"}):c.a.createElement("span",{className:"fa fa-heart-o"})),c.a.createElement("div",{className:"item_name"},a.Title," (",a.Type,")"),c.a.createElement("div",{className:"item_description"},a.Year)))}function T(e){var a=e.data,t=e.handleClick,n=e.handleFav,r=e.favId,l=e.isLoading,o=e.errMess;console.log("err mess is"+o);var i="";return l?i=c.a.createElement(D,null):o?(console.log("indie err message render"),i=c.a.createElement("div",{className:"col-12 loader-container"},c.a.createElement("h3",null,o))):a.Search&&(i=a.Search.map((function(e){return c.a.createElement("div",{key:e.imdbID,className:"col-12 col-md-4 col-lg-4 col-xl-3 menu_col"},c.a.createElement(M,{handleFav:n,favId:r,movie:e}))}))),c.a.createElement("div",null,c.a.createElement(j,{handleSerch:t}),c.a.createElement("div",{className:"container-fluid menu_container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 menu_head_col"},c.a.createElement("h3",null,"Results"),c.a.createElement("hr",{className:"hr_"}))),c.a.createElement("div",{className:"row"},i)))}function k(e){var a=e.isLoading,t=e.movie,r=e.fetchDetails,l=e.title;return Object(n.useEffect)((function(){console.log(a),t.Title!==l&&(console.log("calling fetch details"),r(l))}),[]),c.a.createElement("div",{className:"container detail-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 menu_head_col"},c.a.createElement("h3",{className:"header-deatail"},t.Title," ",c.a.createElement("span",null,"(",t.Year,") "),c.a.createElement("span",{className:"rat"},c.a.createElement("i",{class:"fa fa-star gol-icon","aria-hidden":"true"}),t.imdbRating,c.a.createElement("span",{className:"outof"},"/10"))," ")),c.a.createElement("div",{className:"col-sm-4 det-img-con"},c.a.createElement("img",{className:"det-image",src:t.Poster,alt:t.Title})),c.a.createElement("div",{className:"col-sm-8"},c.a.createElement("div",{className:"box-1"},c.a.createElement("div",{className:"detail-item"},"Directed By:",c.a.createElement("span",{className:"fl-r"}," ",t.Director," ")),c.a.createElement("div",{className:"detail-item"},"Release Date:",c.a.createElement("span",{className:"fl-r"}," ",t.Released," ")),c.a.createElement("div",{className:"detail-item"},"Production:",c.a.createElement("span",{className:"fl-r"}," ",t.Production," ")),c.a.createElement("div",{className:"detail-item"},"Country:",c.a.createElement("span",{className:"fl-r"}," ",t.Country," ")),c.a.createElement("div",{className:"detail-item"},"Box Office:",c.a.createElement("span",{className:"fl-r"}," ",t.BoxOffice," "))),c.a.createElement("div",{className:"plot-con"},c.a.createElement("div",{className:"plot"},"Plot:"),c.a.createElement("div",{className:"plot-details"},t.Plot)),c.a.createElement("div",{className:"box3"},c.a.createElement("div",{className:"det"},"Writers: "),c.a.createElement("div",{className:"det-sm"}," ",t.Writer),c.a.createElement("div",{className:"det"},"Actors:"),c.a.createElement("div",{className:"det-sm"}," ",t.Actors)))))}var A=t(32),L=function(){return{type:"MOVIES_LOADING"}},R=function(e){return{type:"MOVIES_FAILED",payload:e}},C=function(e){return{type:"MOVIES_RECIEVED",payload:e}},V=function(e){return{type:"SET_FAVORITES",payload:e}},x=function(e){return{type:"DETAIL_FAILED",payload:e}},J=function(e){return{type:"DETAIL_RECIEVED",payload:e}};var P=Object(b.g)(Object(A.b)((function(e){return Object(i.a)({},e)}),(function(e){return{fetchMovies:function(a,t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t){if(console.log("inside fetchmovies"),console.log(e),console.log(a),t(L(!0)),null===e)fetch("https://www.omdbapi.com/?i=tt3896198&apikey=1f5816c0&s=batman").then((function(e){return e.json()})).then((function(e){"False"!==e.Response?void 0!==e.Search?t(C(e)):t(R("Movie not Found!")):t(R(e.Error))})).catch((function(e){t(R(e.message))}));else if("title"===a)fetch("https://www.omdbapi.com/?i=tt3896198&apikey=1f5816c0&s=".concat(e)).then((function(e){return e.json()})).then((function(e){"False"!==e.Response?void 0!==e.Search?t(C(e)):t(R("Movie not Found!")):t(R(e.Error))})).catch((function(e){t(R(e.message))}));else if("year"===a){var n=e.split(" ");fetch("https://www.omdbapi.com/?i=tt3896198&apikey=1f5816c0&s=".concat(n[0],"&y=").concat(n[1])).then((function(e){return e.json()})).then((function(e){"False"!==e.Response?void 0!==e.Search?t(C(e)):t(R("Movie not Found!")):t(R(e.Error))})).catch((function(e){t(R(e.message))}))}else fetch("https://www.omdbapi.com/?i=tt3896198&apikey=1f5816c0&s=".concat(e,"&type=").concat(a)).then((function(e){return e.json()})).then((function(e){"False"!==e.Response?void 0!==e.Search?t(C(e)):t(R("Movie not Found!")):t(R(e.Error))})).catch((function(e){t(R(e.message))}))}}(a,t))},fetchFavorites:function(){return e((function(e){var a=localStorage.getItem("Favorites"),t=localStorage.getItem("FavId");if(a){var n={favorites:JSON.parse(a),favId:JSON.parse(t)};console.log("fav is",n),e(V(n))}}))},AddFavorites:function(a){return e({type:"ADD_FAVORITES",payload:a})},RemoveFavorites:function(a){return e({type:"REMOVES_FAVORITES",payload:a})},fetchDetails:function(a){return e(function(e){return function(a){fetch("https://www.omdbapi.com/?i=tt3896198&apikey=1f5816c0&t=".concat(e)).then((function(e){return e.json()})).then((function(e){console.log("inside fetch"),console.log(e),"False"!==e.Response?a(J(e)):a(x(e.Error))})).catch((function(e){a(x(e.message))}))}}(a))}}}))((function(e){var a=Object(n.useState)("Title"),t=Object(o.a)(a,2),r=(t[0],t[1]),l=function(a,t,n){console.log("calling handlefav"),n?e.RemoveFavorites(t):(r(t.Title),e.AddFavorites(t))};Object(n.useEffect)((function(){e.fetchMovies(),e.fetchFavorites()}),[]);var i=function(a,t){e.fetchMovies(a,t)};return c.a.createElement(f.b,{basename:"/"},c.a.createElement("div",{className:"App"},c.a.createElement(E,null),c.a.createElement(b.d,null,c.a.createElement(b.b,{path:"/favorites",component:function(){return c.a.createElement(g,{Favorites:e.favorites.favorites,handleFav:l})}}),c.a.createElement(b.b,{exact:!0,path:"/Home",component:function(){return c.a.createElement(T,{errMess:e.movies.errMess,isLoading:e.movies.isLoading,data:e.movies.movies,handleClick:i,favId:e.favorites.favId,handleFav:l})}}),c.a.createElement(b.b,{path:"/Home/:title",component:function(a){var t=a.match;return c.a.createElement(k,{isLoading:e.detail.isLoading,title:t.params.title,movie:e.detail.movie,fetchDetails:e.fetchDetails})}}),c.a.createElement(b.a,{to:"/Home"}))))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=t(22),B=t(61),Y=t(62),W=t.n(Y),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,movies:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MOVIES_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0,errMess:null,movies:{}});case"MOVIES_FAILED":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:a.payload,movies:{}});case"MOVIES_RECIEVED":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,movies:a.payload});default:return e}},K=t(42),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{favorites:[],favId:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FAVORITES":return Object(i.a)(Object(i.a)({},e),{},{favorites:a.payload.favorites,favId:a.payload.favId});case"ADD_FAVORITES":var t=e.favorites.concat(a.payload),n=e.favId.concat(a.payload.imdbID);return localStorage.setItem("Favorites",JSON.stringify(t)),localStorage.setItem("FavId",JSON.stringify(n)),Object(i.a)(Object(i.a)({},e),{},{favorites:e.favorites.concat(a.payload),favId:e.favId.concat(a.payload.imdbID)});case"REMOVES_FAVORITES":var c=e.favId.indexOf(a.payload.imdbID),r=Object(K.a)(e.favorites),l=Object(K.a)(e.favId);return r.splice(c,1),l.splice(c,1),localStorage.setItem("Favorites",JSON.stringify(r)),localStorage.setItem("FavId",JSON.stringify(l)),Object(i.a)(Object(i.a)({},e),{},{favorites:r,favId:l});default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,movie:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DETAIL_FAILED":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:a.payload,movie:{}});case"DETAIL_RECIEVED":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,errMess:null,movie:a.payload});default:return e}},z=Object(H.d)(Object(H.c)({movies:G,favorites:$,detail:q}),Object(H.a)(B.a,W.a));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(A.a,{store:z},c.a.createElement(f.a,null,c.a.createElement(P,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,a,t){e.exports=t(121)},71:function(e,a,t){},72:function(e,a,t){}},[[63,1,2]]]);
//# sourceMappingURL=main.ef65f061.chunk.js.map